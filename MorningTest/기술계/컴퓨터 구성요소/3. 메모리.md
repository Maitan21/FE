# 메모리

- CPU, 주기억 , 보조기억장치간의 속도차가 있음
- `레지스터` / `캐시메모리` / `디스크캐시`등을 이용한 고속화

## 기억계층

CPU 레지스터 > 1차 캐시 > 2차 캐시 > 주기억 > 디스크캐시 > 보조기억장치
* 1차 캐시 와 2차 캐시를 `캐시메모리`라고 한다.
* 좌로 갈수록 고속, 저용량, 고가 / 우로 갈수록 저속, 고용량, 저가

### 캐시메모리

- 케시메모리에는 CPU가 필요로하는 데이터만 가지고 있는다.
- CPU가 필요로하는 데이터가 캐시메모리에 있을 확률을 `히트율(ヒット率)` 이라고 한다.
- 히트율은 높으면 높을수록 처리가 빨라진다.
- 실효엑세스시간(평균메모리엑세스시간 , 平均アクセス時間) = `TC` X p + TM X (1-p)
  - TC : 캐시메모리의 엑세스 시간
  - TM : 주기억의 엑세스 시간
  - p : 히트율
- EX : ) 주기억 엑세스시간: 80ns, 캐시메모리 엑세스시간: 20ns, 히트율: 80%
  -  実効アクセス時間 = 20 x 0.8 + 80 x 0.2 = 16+16 = 32 ns
  
### 주기억에 대한 기입 타이밍
- 라이트스루방식 (ライトスルー方式) : 기입명령이 실행될때 캐시메모리와 주기억 양쪽에 데이터를 쓰는 방법
- 라이트백방식 (ライトバック方式) : 캐시메모리만 데이터를 기업해 두고 주기억에 대한 기업은 캐시메모리로부터 데이터가 날라갈때 실행되는 방식

### 주기억을 뱅크로 분할하여 연속한 어드레스의 엑세스의 고속화
- 연속한 어드레스에 있는 데이터를 순서대로 읽어 처리할 경우 하나씩 읽으면 효율이 나쁨
- 주기억을 복수의 독립된 뱅크로 나누어 각 뱅크를 를 병행엑세스함으로써 연속한 어드레스에 있는 데이터를 동시에 읽어드림
- 이를　`메모리인터리빙 (メモリインタリーブ)` 라고 부른다.



  

