# 프로세스

## CPU

- CPU는 주기억장치로써 프로그램을 순사적으로 실행한다.
- CPU는 제어장치(制御装置)와 연산장치(演算装置)로 구성되어있다.
- 명령은 "`명령 패치` -> `명령해독` -> `명령의 실행`" 순으로 실행된다.

### CPU의 클럭(clock)
CPU는 Clock에 맞춰 작동한다.

- 하나의 명령 : "명령 패치 -> 명령해독 -> 명령실행" 
  - 3클럭
  
클럭주파수가 높을수록 명령실행속도가 빠르다.
- `클럭싸이클시간` = 1 / 클럭주파수
- 1GHz일 경우 : 1/1,000,000,000 = 1/10^9 = 10^-9

명령 실행에 필요한 클럭수(`CPI` : Cycles Per Instruction)
- `명령실행시간` = 클럭사이클시간 x 명령실행필요클럭수
  - 명령실행시간 = 10^-9초 x 3 = 3ns
  
- 명령의 종류에 따라 필요한 클럭수가 다르다.
  - 3클럭 : 명령패치 -> 명령해독 -> 명령실행
  - 5클럭 : 명령패치 -> 명령해독 -> 실행어드레스계산 -> 데이터 읽기 ->  명령실행

### Tip
1. 클럭주파수가 `2.5GHz`일때, 1초간 `2.5 x 9회`의 클럭신호가 출력된다.
2. 클럭싸이클시간 = 1/2.5x10^9 = `0.4 x 10^-9 [초]`
3. 명령실행시간 = `0.4` x `10^-9초` x `3` = 1.2ns

## MIPS
- CPU의 성능을 MIPS로 표현
- MIPS는 1초간의 실행가능한 명령수를 10^6 단위로 표현한 것
  - 50MIPS의 CPU는 1초간 50x10^6 명령을 실행할 수 있다. -> 50[MIPS]
  
- `평균명령실행시간(平均命令実行時間)` = 1 / 1초간 실행가능한 명령의 수 
  - 1 / 50 x 10^6 = 20x10^-9 = 20ns

### 명령믹스 (命令ミクス)
명령중에서 자주 사용되어지는 명령을 하나의 셋으로 한 것

- 명령믹스를 이용한 평균명령실행시간의 계산

 |    명령믹스           |    실행시간 (마이크로초)   | 출현률 |
 | :----------------: | :------------------: |:----: |
 |   정수연산명령   |    1.0  | 0.5|
 |    이동명령      |        5.0   |0.3     |
 |  분기명령  | 5.0 | 0.2 |
 
이 명령 믹스는 10회 명령을 실행하면 그중 5회는 정수연산 3회는 이동연산  2회는 분기연산을 한다는 것을 의미한다.

- 총실행시간 = (1.0x5) + (5.0x3) + (5.0x2) = 30.0us
- 평균명령실행시간 = 30.0 / 10 = 3.0us
- 평균명령실행시간 = (1.0x0.5) + (5.0x0.3) + (5.0x0.2) = 0.5+1.5+1.0 = 3.0us 
  - 따라서 평균명령실행시간은 `[실행시간 x 출현률] 의 합`이다.
  
## 복수의 명령을 병렬로 처리하는 방법
- 순차제어방식 : 명령을 하나씩 순서대로 처리하는 방법
- 파이프라인처리 : 복수의 명령을 연속적으로 각 스페이지에 병렬적으로 수행하는 방법
  - 파이트라인처리를 유효하게 기능할려면, 가능한 `분기명령`을 `적게`해야한다.
- 슈파스칼라 : 여러 파이프라인을 두어 동시에 실행하는 방법

